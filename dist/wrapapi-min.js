(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var assign=require("object-assign");var axios=require("axios");var Config={host:"https://wrapapi.com"};function WAError(response){this.name="WAError";this.message=response.messages.join("; ");this.error=this.message;this.messages=response.messages;this.errTypes=response.errTypes;if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}else{this.stack=(new Error).stack}}WAError.prototype=Object.create(Error.prototype);WAError.prototype.constructor=WAError;var WAClient=function(apiKey){if(apiKey.search(/^\w{32}$/)===-1){throw new TypeError(apiKey+" is not a valid WrapAPI key. It should be a 32-character alphanumeric string")}this.apiKey=apiKey};WAClient.prototype.run=function(username,repository,name,version,data,stateToken){var argumentErrors=[];if(!username){argumentErrors.push("The API element's username is missing")}if(!repository){argumentErrors.push("The API element's repository is missing")}if(!name){argumentErrors.push("The API element's name is missing")}if(typeof version!=="string"||version.search(/^latest|\d+\.\d+\.\d+$/)===-1){argumentErrors.push("The version entered ("+version+') is not "latest" or in the form "x.y.z"')}if(data!=null&&typeof data!=="object"){argumentErrors.push("data should be an object with one key for each input, but is "+typeof data+" instead")}if(stateToken!=null&&typeof stateToken!=="string"){argumentErrors.push("stateToken should be a string, but is "+typeof stateToken+" instead")}if(argumentErrors.length!==0){return Promise.reject(new TypeError(argumentErrors.join("; ")))}var internalData=data;if(stateToken){internalData=assign({},data);internalData.stateToken=stateToken}return axios({url:Config.host+"/use/"+[username,repository,name,version].join("/"),method:"post",data:internalData,params:{wrapAPIKey:this.apiKey},responseType:"json"}).then(function handleResponse(response){if(!response.data){throw new WAError({messages:["Received an unexpected response"],errTypes:["unexpectedResponse"]})}else if(!response.data.success){throw new WAError(response.data)}return response.data})};var Session=function(client){this.client=client;this.stateToken=null};Session.prototype.run=function(username,repository,name,version,data){return this.client.run(username,repository,name,version,data,this.stateToken).then(function(response){if(response&&response.stateToken){this.stateToken=response.stateToken}return response}.bind(this))};WAClient.prototype.Session=function(){return new Session(this)};module.exports={Client:WAClient,Error:WAError}},{axios:2,"object-assign":21}],2:[function(require,module,exports){module.exports=require("./lib/axios")},{"./lib/axios":4}],3:[function(require,module,exports){(function(process){"use strict";var utils=require("./../utils");var buildURL=require("./../helpers/buildURL");var parseHeaders=require("./../helpers/parseHeaders");var transformData=require("./../helpers/transformData");var isURLSameOrigin=require("./../helpers/isURLSameOrigin");var btoa=typeof window!=="undefined"&&window.btoa||require("./../helpers/btoa");var settle=require("../helpers/settle");module.exports=function xhrAdapter(resolve,reject,config){var requestData=config.data;var requestHeaders=config.headers;if(utils.isFormData(requestData)){delete requestHeaders["Content-Type"]}var request=new XMLHttpRequest;var loadEvent="onreadystatechange";var xDomain=false;if(process.env.NODE_ENV!=="test"&&typeof window!=="undefined"&&window.XDomainRequest&&!("withCredentials"in request)&&!isURLSameOrigin(config.url)){request=new window.XDomainRequest;loadEvent="onload";xDomain=true}if(config.auth){var username=config.auth.username||"";var password=config.auth.password||"";requestHeaders.Authorization="Basic "+btoa(username+":"+password)}request.open(config.method.toUpperCase(),buildURL(config.url,config.params,config.paramsSerializer),true);request.timeout=config.timeout;request.onprogress=function handleProgress(){};request.ontimeout=function handleTimeout(){};request[loadEvent]=function handleLoad(){if(!request||request.readyState!==4&&!xDomain){return}if(request.status===0){return}var responseHeaders="getAllResponseHeaders"in request?parseHeaders(request.getAllResponseHeaders()):null;var responseData=!config.responseType||config.responseType==="text"?request.responseText:request.response;var response={data:transformData(responseData,responseHeaders,config.transformResponse),status:request.status===1223?204:request.status,statusText:request.status===1223?"No Content":request.statusText,headers:responseHeaders,config:config,request:request};settle(resolve,reject,response);request=null};request.onerror=function handleError(){reject(new Error("Network Error"));request=null};request.ontimeout=function handleTimeout(){var err=new Error("timeout of "+config.timeout+"ms exceeded");err.timeout=config.timeout;err.code="ECONNABORTED";reject(err);request=null};if(utils.isStandardBrowserEnv()){var cookies=require("./../helpers/cookies");var xsrfValue=config.withCredentials||isURLSameOrigin(config.url)?cookies.read(config.xsrfCookieName):undefined;if(xsrfValue){requestHeaders[config.xsrfHeaderName]=xsrfValue}}if("setRequestHeader"in request){utils.forEach(requestHeaders,function setRequestHeader(val,key){if(typeof requestData==="undefined"&&key.toLowerCase()==="content-type"){delete requestHeaders[key]}else{request.setRequestHeader(key,val)}})}if(config.withCredentials){request.withCredentials=true}if(config.responseType){try{request.responseType=config.responseType}catch(e){if(request.responseType!=="json"){throw e}}}if(config.progress){if(config.method==="post"||config.method==="put"){request.upload.addEventListener("progress",config.progress)}else if(config.method==="get"){request.addEventListener("progress",config.progress)}}if(requestData===undefined){requestData=null}request.send(requestData)}}).call(this,require("_process"))},{"../helpers/settle":16,"./../helpers/btoa":9,"./../helpers/buildURL":10,"./../helpers/cookies":12,"./../helpers/isURLSameOrigin":14,"./../helpers/parseHeaders":15,"./../helpers/transformData":18,"./../utils":19,_process:20}],4:[function(require,module,exports){"use strict";var defaults=require("./defaults");var utils=require("./utils");var dispatchRequest=require("./core/dispatchRequest");var InterceptorManager=require("./core/InterceptorManager");var isAbsoluteURL=require("./helpers/isAbsoluteURL");var combineURLs=require("./helpers/combineURLs");var bind=require("./helpers/bind");var transformData=require("./helpers/transformData");function Axios(defaultConfig){this.defaults=utils.merge({},defaultConfig);this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios.prototype.request=function request(config){if(typeof config==="string"){config=utils.merge({url:arguments[0]},arguments[1])}config=utils.merge(defaults,this.defaults,{method:"get"},config);if(config.baseURL&&!isAbsoluteURL(config.url)){config.url=combineURLs(config.baseURL,config.url)}config.withCredentials=config.withCredentials||this.defaults.withCredentials;config.data=transformData(config.data,config.headers,config.transformRequest);config.headers=utils.merge(config.headers.common||{},config.headers[config.method]||{},config.headers||{});utils.forEach(["delete","get","head","post","put","patch","common"],function cleanHeaderConfig(method){delete config.headers[method]});var chain=[dispatchRequest,undefined];var promise=Promise.resolve(config);this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor){chain.unshift(interceptor.fulfilled,interceptor.rejected)});this.interceptors.response.forEach(function pushResponseInterceptors(interceptor){chain.push(interceptor.fulfilled,interceptor.rejected)});while(chain.length){promise=promise.then(chain.shift(),chain.shift())}return promise};var defaultInstance=new Axios(defaults);var axios=module.exports=bind(Axios.prototype.request,defaultInstance);axios.defaults=defaultInstance.defaults;axios.interceptors=defaultInstance.interceptors;axios.create=function create(defaultConfig){return new Axios(defaultConfig)};axios.all=function all(promises){return Promise.all(promises)};axios.spread=require("./helpers/spread");utils.forEach(["delete","get","head"],function forEachMethodNoData(method){Axios.prototype[method]=function(url,config){return this.request(utils.merge(config||{},{method:method,url:url}))};axios[method]=bind(Axios.prototype[method],defaultInstance)});utils.forEach(["post","put","patch"],function forEachMethodWithData(method){Axios.prototype[method]=function(url,data,config){return this.request(utils.merge(config||{},{method:method,url:url,data:data}))};axios[method]=bind(Axios.prototype[method],defaultInstance)})},{"./core/InterceptorManager":5,"./core/dispatchRequest":6,"./defaults":7,"./helpers/bind":8,"./helpers/combineURLs":11,"./helpers/isAbsoluteURL":13,"./helpers/spread":17,"./helpers/transformData":18,"./utils":19}],5:[function(require,module,exports){"use strict";var utils=require("./../utils");function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function use(fulfilled,rejected){this.handlers.push({fulfilled:fulfilled,rejected:rejected});return this.handlers.length-1};InterceptorManager.prototype.eject=function eject(id){if(this.handlers[id]){this.handlers[id]=null}};InterceptorManager.prototype.forEach=function forEach(fn){utils.forEach(this.handlers,function forEachHandler(h){if(h!==null){fn(h)}})};module.exports=InterceptorManager},{"./../utils":19}],6:[function(require,module,exports){(function(process){"use strict";module.exports=function dispatchRequest(config){return new Promise(function executor(resolve,reject){try{var adapter;if(typeof config.adapter==="function"){adapter=config.adapter}else if(typeof XMLHttpRequest!=="undefined"){adapter=require("../adapters/xhr")}else if(typeof process!=="undefined"){adapter=require("../adapters/http")}if(typeof adapter==="function"){adapter(resolve,reject,config)}}catch(e){reject(e)}})}}).call(this,require("_process"))},{"../adapters/http":3,"../adapters/xhr":3,_process:20}],7:[function(require,module,exports){"use strict";var utils=require("./utils");var PROTECTION_PREFIX=/^\)\]\}',?\n/;var DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};module.exports={transformRequest:[function transformRequest(data,headers){if(utils.isFormData(data)||utils.isArrayBuffer(data)||utils.isStream(data)){return data}if(utils.isArrayBufferView(data)){return data.buffer}if(utils.isObject(data)&&!utils.isFile(data)&&!utils.isBlob(data)){if(!utils.isUndefined(headers)){utils.forEach(headers,function processContentTypeHeader(val,key){if(key.toLowerCase()==="content-type"){headers["Content-Type"]=val}});if(utils.isUndefined(headers["Content-Type"])){headers["Content-Type"]="application/json;charset=utf-8"}}return JSON.stringify(data)}return data}],transformResponse:[function transformResponse(data){if(typeof data==="string"){data=data.replace(PROTECTION_PREFIX,"");try{data=JSON.parse(data)}catch(e){}}return data}],headers:{common:{Accept:"application/json, text/plain, */*"},patch:utils.merge(DEFAULT_CONTENT_TYPE),post:utils.merge(DEFAULT_CONTENT_TYPE),put:utils.merge(DEFAULT_CONTENT_TYPE)},timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function validateStatus(status){return status>=200&&status<300}}},{"./utils":19}],8:[function(require,module,exports){"use strict";module.exports=function bind(fn,thisArg){return function wrap(){var args=new Array(arguments.length);for(var i=0;i<args.length;i++){args[i]=arguments[i]}return fn.apply(thisArg,args)}}},{}],9:[function(require,module,exports){"use strict";var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function E(){this.message="String contains an invalid character"}E.prototype=new Error;E.prototype.code=5;E.prototype.name="InvalidCharacterError";function btoa(input){var str=String(input);var output="";for(var block,charCode,idx=0,map=chars;str.charAt(idx|0)||(map="=",idx%1);output+=map.charAt(63&block>>8-idx%1*8)){charCode=str.charCodeAt(idx+=3/4);if(charCode>255){throw new E}block=block<<8|charCode}return output}module.exports=btoa},{}],10:[function(require,module,exports){"use strict";var utils=require("./../utils");function encode(val){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}module.exports=function buildURL(url,params,paramsSerializer){if(!params){return url}var serializedParams;if(paramsSerializer){serializedParams=paramsSerializer(params)}else{var parts=[];utils.forEach(params,function serialize(val,key){if(val===null||typeof val==="undefined"){return}if(utils.isArray(val)){key=key+"[]"}if(!utils.isArray(val)){val=[val]}utils.forEach(val,function parseValue(v){if(utils.isDate(v)){v=v.toISOString()}else if(utils.isObject(v)){v=JSON.stringify(v)}parts.push(encode(key)+"="+encode(v))})});serializedParams=parts.join("&")}if(serializedParams){url+=(url.indexOf("?")===-1?"?":"&")+serializedParams}return url}},{"./../utils":19}],11:[function(require,module,exports){"use strict";module.exports=function combineURLs(baseURL,relativeURL){return baseURL.replace(/\/+$/,"")+"/"+relativeURL.replace(/^\/+/,"")}},{}],12:[function(require,module,exports){"use strict";var utils=require("./../utils");module.exports=utils.isStandardBrowserEnv()?function standardBrowserEnv(){return{write:function write(name,value,expires,path,domain,secure){var cookie=[];cookie.push(name+"="+encodeURIComponent(value));if(utils.isNumber(expires)){cookie.push("expires="+new Date(expires).toGMTString())}if(utils.isString(path)){cookie.push("path="+path)}if(utils.isString(domain)){cookie.push("domain="+domain)}if(secure===true){cookie.push("secure")}document.cookie=cookie.join("; ")},read:function read(name){var match=document.cookie.match(new RegExp("(^|;\\s*)("+name+")=([^;]*)"));return match?decodeURIComponent(match[3]):null},remove:function remove(name){this.write(name,"",Date.now()-864e5)}}}():function nonStandardBrowserEnv(){return{write:function write(){},read:function read(){return null},remove:function remove(){}}}()},{"./../utils":19}],13:[function(require,module,exports){"use strict";module.exports=function isAbsoluteURL(url){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(url)}},{}],14:[function(require,module,exports){"use strict";var utils=require("./../utils");module.exports=utils.isStandardBrowserEnv()?function standardBrowserEnv(){var msie=/(msie|trident)/i.test(navigator.userAgent);var urlParsingNode=document.createElement("a");var originURL;function resolveURL(url){var href=url;if(msie){urlParsingNode.setAttribute("href",href);href=urlParsingNode.href}urlParsingNode.setAttribute("href",href);return{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:urlParsingNode.pathname.charAt(0)==="/"?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}originURL=resolveURL(window.location.href);return function isURLSameOrigin(requestURL){var parsed=utils.isString(requestURL)?resolveURL(requestURL):requestURL;return parsed.protocol===originURL.protocol&&parsed.host===originURL.host}}():function nonStandardBrowserEnv(){return function isURLSameOrigin(){return true}}()},{"./../utils":19}],15:[function(require,module,exports){"use strict";var utils=require("./../utils");module.exports=function parseHeaders(headers){var parsed={};var key;var val;var i;if(!headers){return parsed}utils.forEach(headers.split("\n"),function parser(line){i=line.indexOf(":");key=utils.trim(line.substr(0,i)).toLowerCase();val=utils.trim(line.substr(i+1));if(key){parsed[key]=parsed[key]?parsed[key]+", "+val:val}});return parsed}},{"./../utils":19}],16:[function(require,module,exports){"use strict";module.exports=function settle(resolve,reject,response){var validateStatus=response.config.validateStatus;if(!response.status||!validateStatus||validateStatus(response.status)){resolve(response)}else{reject(response)}}},{}],17:[function(require,module,exports){"use strict";module.exports=function spread(callback){return function wrap(arr){return callback.apply(null,arr)}}},{}],18:[function(require,module,exports){"use strict";var utils=require("./../utils");module.exports=function transformData(data,headers,fns){utils.forEach(fns,function transform(fn){data=fn(data,headers)});return data}},{"./../utils":19}],19:[function(require,module,exports){"use strict";var toString=Object.prototype.toString;function isArray(val){return toString.call(val)==="[object Array]"}function isArrayBuffer(val){return toString.call(val)==="[object ArrayBuffer]"}function isFormData(val){return toString.call(val)==="[object FormData]"}function isArrayBufferView(val){var result;if(typeof ArrayBuffer!=="undefined"&&ArrayBuffer.isView){result=ArrayBuffer.isView(val)}else{result=val&&val.buffer&&val.buffer instanceof ArrayBuffer}return result}function isString(val){return typeof val==="string"}function isNumber(val){return typeof val==="number"}function isUndefined(val){return typeof val==="undefined"}function isObject(val){return val!==null&&typeof val==="object"}function isDate(val){return toString.call(val)==="[object Date]"}function isFile(val){return toString.call(val)==="[object File]"}function isBlob(val){return toString.call(val)==="[object Blob]"}function isFunction(val){return toString.call(val)==="[object Function]"}function isStream(val){return isObject(val)&&isFunction(val.pipe)}function trim(str){return str.replace(/^\s*/,"").replace(/\s*$/,"")}function isStandardBrowserEnv(){return typeof window!=="undefined"&&typeof document!=="undefined"&&typeof document.createElement==="function"}function forEach(obj,fn){if(obj===null||typeof obj==="undefined"){return}if(typeof obj!=="object"&&!isArray(obj)){obj=[obj]}if(isArray(obj)){for(var i=0,l=obj.length;i<l;i++){fn.call(null,obj[i],i,obj)}}else{for(var key in obj){if(obj.hasOwnProperty(key)){fn.call(null,obj[key],key,obj)}}}}function merge(){var result={};function assignValue(val,key){if(typeof result[key]==="object"&&typeof val==="object"){result[key]=merge(result[key],val)}else{result[key]=val}}for(var i=0,l=arguments.length;i<l;i++){forEach(arguments[i],assignValue)}return result}module.exports={isArray:isArray,isArrayBuffer:isArrayBuffer,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:isString,isNumber:isNumber,isObject:isObject,isUndefined:isUndefined,isDate:isDate,isFile:isFile,isBlob:isBlob,isFunction:isFunction,isStream:isStream,isStandardBrowserEnv:isStandardBrowserEnv,forEach:forEach,merge:merge,trim:trim}},{}],20:[function(require,module,exports){var process=module.exports={};var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=setTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;clearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){setTimeout(drainQueue,0)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],21:[function(require,module,exports){"use strict";var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}module.exports=Object.assign||function(target,source){var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key]}}if(Object.getOwnPropertySymbols){symbols=Object.getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]]}}}}return to}},{}]},{},[1]);
